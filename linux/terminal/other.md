## Узнать размер директории / файла

```
du -sh
```
- `du -h` : GB
- `du -m` : MB
- `du -k` : KB

## Узнать информацию о файле
```sh
stat filename
```

## Создание ссылок
`ln filename filename.hardlink` - создать жесткую ссылку  
`ln -s filename filename.softlink` - создать жесткую ссылку  

__Символическая ссылка:__
- Указывает на целевой файл или каталог. Фактически является небольшим файлом, содержащим путь до целевого файла.
- Не содержит внутри себя содержимого самого файла. Содержит путь к целевому файлу.
- Имеет собственные права доступа, которые не распространяются на целевой файл.
- Удаление / переименование / перемещение целевого файла не обновляет автоматически ссылку. - Ссылка начинает указывать на несуществующий файл, становится неработающей.
- Изменение прав доступа у целевого файла не обновляет права доступа у ссылки.
- Может быть создана для директории.
- Ссылка и целевой файл имеют разные файловые индексы (inode) в файловой системе.
- Может указывать на несуществующий файл.
- Символическая ссылка может использовать относительный путь до целевого файла.

__Жесткая ссылка:__
- Является своего рода еще одним именем на файл.
- Не может указывать на директорию.
- Нельзя создавать жесткие ссылки между файлами разных файловых систем.
- Не может указывать на несуществующий файл.
- Жесткая ссылка и файл, для которого она создавалась, имеют одинаковые индексы (inode) в файловой системе.

## Вывести папки по размеру
```
du -sh -- */ | sort -rh
```

`mount` - просмотреть все смонтированные устройства
`/proc/` - системная папка, где можно по pid узнать информацию
`echo $$` - узнать pid текущего процесса

## Вывести размер untracked файлов в git

```
git status --porcelain | awk {print $2} | xargs ls -hs | sort -h
```

## Pipeline
__stdin => [stderr] => stdout__
```bash
echo 'foo bar bazz' | wc
```

Чтобы создать вложенные директории  
`mkdir -p one/two/three`  

## История
`history` - всю история  
`history 5` - последние 5 команд  
`!5` - повторить пятую команду  
`history | grep cat` - найти команду с __cat__  
__CTRL+R__ - поиск по истории (+следующее совпадение)


## Посчитать что-то в файле
```sh
wc -l file.txt # количество строк
wc -w file.txt # количество слов
wc -c file.txt # количество количество байт
wc -m file.txt # количество символов
```

## Сравнить файлы/директории
```sh
diff [-q -r] <path> <path2>
diff file1.txt file2.txt | less
diff -qr dir1/ dir2/
-r # для директорий (рекурсивно)
-q # не выводить разницу, а сообщать факт
```
## Узнать сколько место занято/свободно во всей системе
```sh
df [-h]
```

## Вывести часть файла
```sh
head [-n <количество строк>] <путь>
tail [-n <количество строк>] <путь>

tail -n 50 file.txt | less
```

## Работа с файлами/директориями
```sh
mkdir ./{dir1,dir2,dir3} # пробелы между запятыми недопустимы
touch ~/{file1,file2}.txt
```

## Вывод с сортировкой
```sh
ls --sort=[sort-type] -l <path>
ls --sort=size -l ~/
ls --sort=time -l . # по убыванию
ls -Sl . # по возрастанию
# также можно выводить файлы по регулярным выражениям
ls text* # выведет все файлы, которые начинаются с text
```
## Перенаправление в один файл
```sh
&> или &>>
program &>> both.txt
# перенаправление одного потока в другой
2>&1 # stderr to stdout
1>&2 # stdout to stderr
# перенаправление в никуда или из ниоткуда (чтобы не выводить на экран)
/dev/null
program 2>/dev/null
# так можно обнулить файл
cat /dev/null > file.txt
```

# Фильтр uniq
Позволяет удалить повторяющиеся строки из отсортированного списка строк
```sh
sort music.txt | uniq
# также можно посчитать повторения
sort music.txt | uniq -c
```

# Date
```sh
date "+%D %T" # 04/27/22 09:57:16 
date "+%d/%m/%y" # 27/04/2023
```

# Time
Выводит информацию о том, сколько времени тратится на исполнение команды
```sh
time date
```

## Права доступа

Права у файлов  
`r` - просмотр содержимого  
`w` - редактирование  
`x` - запуск

Права у директорий  
`r` - просмотр содержимого  
`w` - создание/удаление файлов/поддерикторий  
`x` - 1) вход в директорию, 2) просмотр inode (мета информация) файлов/поддерикторий

```sh
# Узнать, кто сейчас в системе
users

# Узнать, какие вообще есть пользователи
less /etc/passw

# Узнать группы пользователя
groups <username>
```

rwx|rw-|r--|
---|---|---|
owner|group|other|
1  1  1|1  1  0|1  0  0|
4+2+1|4+2+0|4+0+0|

Итого: __764__

Либо считать можно таким образом:
r--|-w-|--x|
---|---|---|
4|2|1|

Изменить права доступа
```sh
chmod [ugoa] [+-] [rwx] path
chmod ug+rw file.txt

chmod [octal code] path
chmod 777 file.txt
```

Сменить владельца
```sh
chown [new_user]:[new_group] path
chown username file.txt
chown :usergroup test
```

### Утилита su для работы от лица другого пользователя 
Утилита su позволяет пользователю запустить командную оболочку от лица другого пользователя.
```sh
su username # потребует пароль
```
### Useradd - добавление учетных записей
```sh
useradd -m -d /home/yanina -c "yanina wickmayer" yanina
tail -1 /etc/passwd
yanina:x:529:529:yanina wickmayer:/home/yanina:/bin/bash
```

### umask
При создании файла или каталога ему присваивается набор прав доступа по умолчанию. Для обычного файла режим доступа составляет rw- rw- rw- (в двоичном представлении: 110 110 110, в восьмеричном представлении: 6 6 6), для каталога - rwx rwx rwx (в двоичном представлении: 111 111 111, в восьмеричном представлении: 7 7 7).

В процесс определения режима доступа ко вновь создаваемым файлам (каталогам) вмешивается так называемая маска umask (user file creation mode mask), значение которой равно 0002.

Маску можно посмотреть с помощью соответствующей команды umask:
```sh
umask #022
```

Представление|Двоичное|Символическое|
---|---|---|
Полный режим|110 110 110|rw- rw- rw-|
Маска|000 000 010|000 000 010|
Итоговый режим|110 110 100|rw- rw- r--|

Маску легко изменить. В рамках текущей сессии это делается путём передачи нового значения команде umask:
```sh
umask 0000
```
